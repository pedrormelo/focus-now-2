<ion-content [fullscreen]="true" class="bg-background text-text-primary">
  <div class="relative mx-auto flex min-h-full w-full max-w-5xl flex-col justify-between gap-12 px-6 py-12 lg:flex-row lg:items-center lg:px-12 xl:px-16">
    <div class="space-y-6 text-center lg:max-w-xl lg:text-left">
      <app-logo class="mx-auto lg:mx-0" height="48"></app-logo>
      <h1 class="text-4xl font-semibold leading-tight md:text-5xl">
        Crie sua conta
      </h1>
      <p class="text-base text-text-secondary">
        Configure seu perfil para começar a acompanhar seus ciclos de foco e evolução diária.
      </p>
      <div class="flex flex-col items-center gap-4 text-sm text-text-muted sm:flex-row sm:justify-center lg:justify-start">
        <div class="flex items-center gap-2">
          <span class="inline-flex h-2 w-2 rounded-full bg-brand-gradientEnd"></span>
          Metas personalizadas
        </div>
        <div class="flex items-center gap-2">
          <span class="inline-flex h-2 w-2 rounded-full bg-brand-accent"></span>
          Progresso gamificado
        </div>
      </div>
    </div>

    <div class="relative w-full max-w-md self-center">
      <div class="absolute inset-x-10 -top-24 h-56 rounded-full bg-gradient-to-r from-brand-gradientStart via-brand-accent to-brand-gradientEnd opacity-20 blur-3xl"></div>
      <div class="relative overflow-hidden rounded-3xl border border-surface-border bg-surface/90 p-8 shadow-spotlight backdrop-blur">
        <div class="mb-8 space-y-2">
          <h2 class="text-2xl font-semibold">Olá!</h2>
          <p class="text-sm text-text-secondary">Preencha seus dados para criar sua conta</p>
        </div>

        <form class="space-y-6" (ngSubmit)="register()">
          <div class="space-y-2">
            <label for="nome" class="text-sm font-medium text-text-primary">Nome</label>
            <input
              id="nome"
              name="nome"
              type="text"
              autocomplete="name"
              [(ngModel)]="userData.nome"
              required
              placeholder="Digite seu nome"
              class="w-full rounded-2xl border border-surface-border bg-surface-subtle/60 px-4 py-3 text-sm text-text-primary placeholder:text-text-muted focus:border-brand-gradientStart focus:outline-none focus:ring-2 focus:ring-brand-gradientStart focus:ring-offset-0"
            />
          </div>

          <div class="space-y-2">
            <label for="email" class="text-sm font-medium text-text-primary">Email</label>
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              [(ngModel)]="userData.email"
              required
              placeholder="Digite seu email"
              class="w-full rounded-2xl border border-surface-border bg-surface-subtle/60 px-4 py-3 text-sm text-text-primary placeholder:text-text-muted focus:border-brand-gradientStart focus:outline-none focus:ring-2 focus:ring-brand-gradientStart focus:ring-offset-0"
            />
          </div>

          <div class="space-y-3">
            <div class="space-y-2">
              <label for="password" class="text-sm font-medium text-text-primary">Senha</label>
              <input
                id="password"
                name="senha"
                type="password"
                autocomplete="new-password"
                [(ngModel)]="userData.senha"
                (input)="onPasswordInput(userData.senha)"
                required
                placeholder="Crie uma senha"
                class="w-full rounded-2xl border border-surface-border bg-surface-subtle/60 px-4 py-3 text-sm text-text-primary placeholder:text-text-muted focus:border-brand-gradientStart focus:outline-none focus:ring-2 focus:ring-brand-gradientStart focus:ring-offset-0"
              />
            </div>
            <div class="space-y-2">
              <div class="h-2 w-full overflow-hidden rounded-full bg-surface-subtle">
                <div class="h-2 rounded-full"
                  [ngClass]="{
                    'bg-red-500': passwordStrengthClass === 'weak',
                    'bg-yellow-500': passwordStrengthClass === 'medium',
                    'bg-green-500': passwordStrengthClass === 'strong',
                    'bg-emerald-500': passwordStrengthClass === 'very-strong'
                  }"
                  [style.width.%]="passwordStrength * 20"></div>
              </div>
              <ul class="grid grid-cols-2 gap-1 text-xs text-text-muted">
                <li [class.text-green-500]="passwordRequirements.length">• Mínimo 8 caracteres</li>
                <li [class.text-green-500]="passwordRequirements.letter">• Pelo menos uma letra e um número</li>
                <li [class.text-green-500]="passwordRequirements.special">• Pelo menos um caractere especial</li>
              </ul>
            </div>
          </div>

          <div class="space-y-3">
            <label class="text-sm font-medium text-text-primary">Qual seu objetivo?</label>
            <div class="grid grid-cols-2 gap-4">
              <button type="button"
                class="group flex aspect-square flex-col items-center justify-center gap-3 rounded-3xl border bg-surface-subtle/60 px-4 text-center text-text-primary transition-all hover:scale-[1.01]"
                [ngClass]="{
                  'border-transparent shadow-spotlight ring-2 ring-brand-gradientStart/50': userData.objetivo === card.value,
                  'border-surface-border': userData.objetivo !== card.value
                }"
                *ngFor="let card of objectiveCards"
                (click)="selectObjective(card.value)"
              >
                  <img [src]="card.icon" [alt]="card.label" class="objective-icon h-12 w-12 object-contain opacity-100" />
                <span class="text-sm font-medium">{{ card.label }}</span>
              </button>
            </div>
          </div>

          <button
            type="submit"
            class="group relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-brand-gradientStart via-brand-accent to-brand-gradientEnd px-4 py-3 text-base font-semibold text-white shadow-spotlight transition-all duration-200 hover:scale-[1.01] focus:outline-none focus-visible:ring-4 focus-visible:ring-brand-gradientStart/40"
            [disabled]="!userData.nome || !userData.email || !userData.senha || !userData.objetivo || !isPasswordValid()"
          >
            Tudo pronto
            <span class="ml-3 inline-flex h-7 w-7 items-center justify-center rounded-full bg-white/15 text-sm font-semibold transition-transform group-hover:translate-x-1">→</span>
          </button>
        </form>

        <div class="mt-8 text-sm text-text-muted">
          Já tem uma conta?
          <button type="button" class="rounded-xl px-1 py-1 text-left transition-colors text-brand-gradientStart" (click)="goToLogin()">
            Entrar
          </button>
        </div>
      </div>
    </div>
  </div>
</ion-content>
